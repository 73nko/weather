import type {NextPage} from 'next';
import {GetStaticProps} from 'next';
import Head from 'next/head';
import { Header } from '../components/Header';
import { Typography } from 'antd';

import { Button, DatePicker, Form, Input, Space, version, Row } from 'antd';

const { Title } = Typography;




// const Home: NextPage = (data) =>

// Esta línea comentada, es la declaración del componente anterior, 

// la he modificado para comprobar si así me funciona el fetching


export default function Home({posts}) {
    
  return (
    <>
      <Head>
        <title>Weather APP</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Header>{"What's the Weather"}</Header>
      <Title level={2} style={{color: "white"}}>Select a date to see the weather</Title>
      <Space direction="vertical" size="middle" style={{ display: 'flex' }}>
        <Space>
          <DatePicker />
          <Button type="primary" style={{ marginLeft: 8 }}>
            Date
          </Button>
        </Space>
        <Space>
          <Form layout='horizontal'>
            <Space>
              <Space direction='vertical'>
                <Title level={2} style={{color: "white"}}>Select a City</Title>
                <Form.Item style={{color: 'white'}}>
                  <Input placeholder='Search a City' style={{ width: 300}}/>
                  <Button type='primary' style={{ marginLeft: 8 }}>Search</Button>
                </Form.Item>
              </Space>
            </Space>
          </Form>
        </Space>
      </Space>
      <ul>
        {posts.map((post: any) => (
          <li key={post.id}>{post.title}</li>
        ))}
      </ul>
        
    </>
  );
};



export async function getServerSideProps() {
  
  const res = await fetch('https://jsonplaceholder.typicode.com/posts');
  const posts = await res.json();
  return {
    props: {
      posts,
    }
    
  };
}